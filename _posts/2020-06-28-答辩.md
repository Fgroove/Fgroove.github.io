---
layout: post
title:   "答辩手稿"
date:   2020-06-28 08:55:01 +0800
categories: "HWProject"
tag: "Intel PT"

---

* content
{:toc}






# 答辩

各位老师好，我是来自安全组的蔡刘壮，论文题目是基于动态分析的反沙箱对抗技术

## 研究生期间主要工作

参与了华为公司的项目，面向高级恶意样本检测的动态行为数据采集和特征分析。主要负责第二期任务，提出一项反沙箱对抗技术，保证数据流采集的有效性

## 研究背景与意义

由于恶意软件数量巨大，沙箱等自动化分析工具越发重要。根据lastline15年的报告，14年具有逃逸行为的恶意样本占比增加了一倍以上，超过了70%。

因此沙箱在面临应用逃逸技术的复杂恶意软件时往往显得非常无力。

大多数沙箱都或多或少受到了逃逸技术的影响。

## 设计目标

所以我们的设计目标首先是提出一项反沙箱对抗技术，保证数据流采集的有效性。如果采集的数据是无效的，那么后续分析也是没有意义的。

我们按照多路径探索的思路，探索程序的多条可执行路径，尽可能多的暴露程序的可疑行为，增强对程序的可视性。

还要减小多路径探索技术的性能开销，避免应用污点追踪和全局符号执行等开销较大的技术，增强可用性。

## 技术架构

因此，我们采用了开销低于5%的Intel PT技术结合选择性符号执行来完成多路径探索。

通过将Intel PT记录的控制流信息与二进制文件的静态反汇编相结合，能够精确地还原分支路径。有了这些执行过的路径数据，我们就可以找到程序的每个未执行基本块并识别相应的条件分支。

我们的监控系统可以时刻监听程序和系统环境之间的交互（系统调用信息），如果这些条件分支使用了API参数作为判断条件，我们就可以使用选择性符号执行确定这条路径条件，将控制流引导到未执行的基本块。

## 还原执行路径



## 捕获系统调用



##选择性符号执行

符号执行是一项很强大的技术，但由于路径爆炸问题它的延展性受到严重限制；但是符号执行强大的约束求解能力让它以选择性符号执行的形式广泛引用，结合模糊测试很好的弥补了模糊测试的不足。

我们采用的angr作为符号执行引擎，



## 代码覆盖率



## 展望

通过从Hypervisor配置Intel PT，可以在虚拟机外部（Hypervisor）追踪程序，因此分析的恶意软件样本和虚拟机操作系统本身都不知道Intel PT的存在，分析的恶意软件样本几乎不可能检测和逃逸Intel PT的追踪。



## 亮点



## PPT里面的关键字



## 沙箱了解多少

